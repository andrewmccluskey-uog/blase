% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/mapping_result_class.R
\docType{class}
\name{MappingResult-class}
\alias{MappingResult-class}
\alias{MappingResult}
\title{Atgnat Mapping Result}
\value{
A \link{MappingResult} object
}
\description{
Created by \code{\link[=map_best_bin]{map_best_bin()}}
}
\section{Slots}{

\describe{
\item{\code{bulk_name}}{The name of the bulk sample being mapped.}

\item{\code{best_bin}}{The bin that best matched the bulk sample.}

\item{\code{best_correlation}}{The spearman's rho that the test geneset had between the winning bin and the bulk.}

\item{\code{top_2_distance}}{The absolute difference between the best and second best mapping buckets. Higher indicates a less doubtful mapping.}

\item{\code{history}}{A dataframe of the correlation score for each bin.}
}}

\examples{
library(SingleCellExperiment, quietly=TRUE)
library(atgnat)
counts_matrix <- matrix(c(seq_len(120)/10, seq_len(120)/5), ncol=48, nrow=5)
sce <- SingleCellExperiment::SingleCellExperiment(assays=list(
  normcounts=counts_matrix, logcounts=log(counts_matrix)))
colnames(sce) = seq_len(48)
rownames(sce) = as.character(seq_len(5))
sce$cell_type = c(rep("celltype_1", 24), rep("celltype_2", 24))

sce$pseudotime = seq_len(48)
atgnat_data = as.AtgnatData(sce, pseudotime_slot="pseudotime", n_bins=4)
atgnat_data@genes = as.character(seq_len(5))

bulk_counts = matrix(seq_len(15)*10, ncol=3, nrow=5)
colnames(bulk_counts) = c("A", "B", "C")
rownames(bulk_counts) = as.character(seq_len(5))

# Map to bin
result = map_best_bin(atgnat_data, "B", bulk_counts)
result

# Plot bin
sce = scater::runUMAP(sce)
sce = assign_pseudotime_bins(sce, pseudotime_slot="pseudotime", n_bins=4)
plot_mapping_result(sce, result, group_by_slot="cell_type")
}
\seealso{
\code{\link[=map_best_bin]{map_best_bin()}}
}
\concept{mapping}
